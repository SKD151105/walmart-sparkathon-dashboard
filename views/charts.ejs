<%- include('partials/dashHeader.ejs'); -%>
<%- include('partials/dashSidebar.ejs'); -%>

<section id="content">
  <%- include('partials/dashNav.ejs'); -%>

  <main style="padding: 2rem;">
    <h1 class="title" style="margin-bottom: 2rem;">Sales Charts</h1>
    <div id="forecast-section" style="min-height: 400px; position: relative;">
    <% if (barChart) { %>
      <div style="margin-bottom: 3rem; padding: 1rem; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
        <h2 style="margin-bottom: 1rem; font-size: 1.5rem;">Category Sales (Bar Chart)</h2>
        <img src="data:image/png;base64,<%= barChart %>" alt="Bar Chart"
             style="width: 100%; max-width: 1000px; border-radius: 8px;" />
      </div>
    <% } %>

    <% if (pieChart) { %>
      <div style="margin-bottom: 3rem; padding: 1rem; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
        <h2 style="margin-bottom: 1rem; font-size: 1.5rem;">Product Demand (Pie Chart)</h2>
        <img src="data:image/png;base64,<%= pieChart %>" alt="Pie Chart"
             style="width: 100%; max-width: 1000px; border-radius: 8px;" />
      </div>
    <% } %>
    </div>
  </main>
</section>

<%- include('partials/dashFooter.ejs'); -%>
<style>
  :root {
    --card-bg: #ffffff;
    --card-text: #000000;
  }

  [data-theme="dark"] {
    --card-bg: #1e1e1e;
    --card-text: #ffffff;
  }

  .forecast-block {
    margin-bottom: 3rem;
    padding: 1rem;
    background-color: var(--card-bg);
    color: var(--card-text);
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 0.6s ease forwards;
  }

  @keyframes fadeIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  [data-theme="dark"] .inventory-card {
  --card-bg: #1e1e2f;
  --text-color: #f1f1f1;
  background-color: var(--card-bg);
  color: var(--text-color);
}

[data-theme="dark"] .progress-bar-container {
  background-color: #444;
}

[data-theme="dark"] .shimmer {
  background: linear-gradient(to right, #2a2a2a 8%, #3c3c3c 18%, #2a2a2a 33%);
  background-size: 200% 100%;
  animation: shimmer-slow 2.5s linear infinite;
}
  </style>